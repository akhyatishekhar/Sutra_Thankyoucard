<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Sutra - Thank You Card Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Poppins:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,600;1,600&family=Great+Vibes&family=Oswald:wght@500;700&family=Dancing+Script:wght@600;700&display=swap" rel="stylesheet">
    <style>
        /* Base Styles */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f3f4f6;
        }
        
        /* Fallback for hidden class to prevent loader from showing on load */
        .hidden { display: none !important; }

        .card-container {
            width: 210mm; /* A4 Width */
            min-height: 297mm; /* A4 Height */
            background: white;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        /* Font Utilities */
        .font-sutra { font-family: 'Nunito', sans-serif; }
        .font-playfair { font-family: 'Playfair Display', serif; }
        .font-script { font-family: 'Great Vibes', cursive; }
        .font-bold-display { font-family: 'Oswald', sans-serif; }
        .font-friendly { font-family: 'Dancing Script', cursive; }

        /* Background Shapes */
        .header-curve {
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 350px;
            border-bottom-left-radius: 50% 20%;
            border-bottom-right-radius: 50% 20%;
            z-index: 0;
            transition: background 0.3s ease;
        }
        .header-modern {
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 15px;
            z-index: 0;
        }
        
        /* Decorative Elements */
        .name-sticker {
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-radius: 12px;
            padding: 8px 32px;
            display: inline-block;
            transform: rotate(-1deg);
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        .grid-box {
            background: rgba(255,255,255,0.7);
            backdrop-filter: blur(5px);
            border-radius: 8px;
            border: 1px solid rgba(0,0,0,0.05);
        }

        /* Loading Overlay Style */
        #loadingOverlay {
            background: rgba(255, 255, 255, 0.9);
            display: flex; align-items: center; justify-center;
            z-index: 50;
        }

        /* Print Styles */
        @media print {
            body * { visibility: hidden; }
            #card-preview, #card-preview * { visibility: visible; }
            #card-preview {
                position: absolute;
                left: 0; top: 0;
                width: 100%; height: 100%;
                margin: 0;
                box-shadow: none;
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
            }
            .no-print { display: none; }
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto flex flex-col lg:flex-row gap-8">
        
        <!-- Controls Section -->
        <div class="w-full lg:w-1/3 no-print">
            <div class="bg-white p-6 rounded-xl shadow-lg sticky top-8 max-h-[90vh] overflow-y-auto">
                <h1 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">Card Generator</h1>
                
                <div class="space-y-6">
                    <!-- Design Options -->
                    <div class="bg-gray-50 p-4 rounded-lg border border-gray-100 space-y-4">
                        <div>
                            <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2">1. Layout Theme</label>
                            <select id="themeSelector" class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-pink-500 focus:border-pink-500 border p-2 text-sm">
                                <option value="event">Theme A: Event Highlight (Standard)</option>
                                <option value="modern">Theme B: Modern Grid (New)</option>
                                <option value="message">Theme C: Heartfelt Message</option>
                                <option value="elegant">Theme D: Elegant Formal</option>
                            </select>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2">2. Greeting Style</label>
                                <select id="greetingStyle" class="w-full border-gray-300 rounded-lg shadow-sm border p-2 text-sm">
                                    <option value="bold">Bold & Impactful</option>
                                    <option value="script">Elegant Script</option>
                                    <option value="friendly">Friendly & Warm</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 uppercase tracking-wide mb-2">3. Color Palette</label>
                                <select id="colorPalette" class="w-full border-gray-300 rounded-lg shadow-sm border p-2 text-sm">
                                    <option value="red">Sutra Red</option>
                                    <option value="blue">Corporate Blue</option>
                                    <option value="orange">Warm Orange</option>
                                    <option value="green">Nature Green</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Recipient Details -->
                    <div>
                        <h3 class="text-xs font-bold text-gray-900 mb-3 uppercase tracking-wider border-b pb-1">Recipient Info</h3>
                        <div class="grid grid-cols-3 gap-3 mb-3">
                            <div class="col-span-1">
                                <label class="block text-xs font-medium text-gray-600 mb-1">Title</label>
                                <select id="titleInput" class="w-full border-gray-300 rounded-md shadow-sm border p-2 text-sm">
                                    <option value="">(None)</option>
                                    <option value="Mr.">Mr.</option>
                                    <option value="Mrs.">Mrs.</option>
                                    <option value="Ms." selected>Ms.</option>
                                    <option value="Dr.">Dr.</option>
                                </select>
                            </div>
                            <div class="col-span-2">
                                <label class="block text-xs font-medium text-gray-600 mb-1">Name</label>
                                <input type="text" id="nameInput" value="Khyati" class="w-full border-gray-300 rounded-md shadow-sm border p-2 text-sm">
                            </div>
                        </div>
                    </div>

                    <!-- Dynamic Fields (Event Info) -->
                    <div id="eventFields" class="space-y-3 transition-all">
                        <h3 class="text-xs font-bold text-gray-900 mb-1 uppercase tracking-wider border-b pb-1">Event Details</h3>
                        <div>
                            <label class="block text-xs font-medium text-gray-600 mb-1">Program Name</label>
                            <input type="text" id="programInput" value="SPECIAL LUNCH PROGRAM" class="w-full border-gray-300 rounded-md shadow-sm border p-2 text-sm uppercase">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-600 mb-1">Beneficiary Group</label>
                            <input type="text" id="beneficiaryInput" value="God's Special Children" class="w-full border-gray-300 rounded-md shadow-sm border p-2 text-sm">
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                             <div>
                                <label class="block text-xs font-medium text-gray-600 mb-1">Date</label>
                                <input type="text" id="dateInput" value="01.02.2024" class="w-full border-gray-300 rounded-md shadow-sm border p-2 text-sm">
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-600 mb-1">Location</label>
                                <input type="text" id="locationInput" value="Punarbashan Kendra" class="w-full border-gray-300 rounded-md shadow-sm border p-2 text-sm">
                            </div>
                        </div>
                    </div>

                    <!-- Logo Upload -->
                    <div>
                         <h3 class="text-xs font-bold text-gray-900 mb-2 uppercase tracking-wider border-b pb-1">Assets</h3>
                        <label class="block text-xs font-medium text-gray-600 mb-1">Logo Image</label>
                        <input type="file" id="logoUpload" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-gray-100 file:text-gray-700 hover:file:bg-gray-200">
                    </div>

                    <!-- Actions -->
                    <div class="pt-4 grid grid-cols-2 gap-3 border-t mt-4">
                        <button onclick="downloadImage()" id="downloadBtn" class="bg-pink-600 text-white px-3 py-3 rounded-lg hover:bg-pink-700 transition shadow flex items-center justify-center gap-2 font-medium text-sm">
                            Download JPG
                        </button>
                        <button onclick="window.print()" class="bg-gray-800 text-white px-3 py-3 rounded-lg hover:bg-black transition shadow flex items-center justify-center gap-2 font-medium text-sm">
                            Save PDF
                        </button>
                    </div>
                     <p id="statusMsg" class="text-xs text-center text-gray-500 mt-2 h-4"></p>
                </div>
            </div>
        </div>

        <!-- Preview Section -->
        <div class="w-full lg:w-2/3 flex justify-center bg-gray-200 p-4 lg:p-8 rounded-xl overflow-auto relative">
            
            <!-- Loading Indicator: Forced hidden by inline style -->
            <div id="loadingOverlay" class="absolute inset-0 bg-white/50 z-50 hidden rounded-xl" style="display: none;">
                 <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-pink-600"></div>
                 <span class="ml-2 text-pink-600 font-bold">Rendering...</span>
            </div>

            <!-- The Card -->
            <div id="card-preview" class="card-container text-center text-gray-800">
                
                <!-- Dynamic Background -->
                <div id="bgLayer"></div>

                <!-- Content Wrapper -->
                <div class="relative z-10 flex flex-col h-full p-12">
                    
                    <!-- Dynamic Main Content -->
                    <div id="mainContent" class="flex-grow flex flex-col">
                        <!-- Content injected via JS -->
                    </div>

                    <!-- NGO Description (Static) -->
                    <div class="mt-8 px-10">
                        <p class="text-gray-500 font-medium text-sm leading-relaxed border-t border-gray-100 pt-6">
                            A Sutra is a voluntary and self-funding NGO registered as a<br>
                            Society, committed to the advancement of Urban, Tribal,<br>
                            and Rural communities.
                        </p>
                    </div>

                    <!-- Footer Section (Static) -->
                    <div class="mt-auto pt-8 flex flex-row items-end justify-between text-left">
                        
                        <!-- Logo & Details Left -->
                        <div class="flex gap-4 items-start w-2/3">
                            <div class="flex-shrink-0 w-32 h-32 flex items-center justify-center bg-white relative">
                                <img id="logoPreview" src="https://static.wixstatic.com/media/3062bf_fe6a06a571274d07a63f71d7543e5c22~mv2.png/v1/fill/w_112,h_112,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/sutra_logo.png" crossorigin="anonymous" alt="Logo" class="max-w-full max-h-full object-contain">
                                <div id="logoPlaceholder" class="hidden text-center p-2 border-2 border-dashed border-gray-300 rounded bg-gray-50 w-full h-full flex flex-col items-center justify-center">
                                    <span class="text-xs text-gray-400">Upload Logo</span>
                                </div>
                            </div>

                            <div class="text-[10px] text-gray-700 space-y-0.5 leading-tight">
                                <h3 id="footerBrand" class="text-2xl font-bold mb-1 font-sutra">a sutra <span class="text-lg font-normal text-gray-600">‡§è‡§ï ‡§∏‡•Ç‡§§‡•ç‡§∞</span></h3>
                                <p class="font-bold text-gray-800">(A Societal for Urban, Tribal & Rural Advancement)</p>
                                <p>West Bengal Act. XXVI of 1961 : SO171363 of 2010-2011</p>
                                <p>NGO Darpan ID : WB/2022/0318362</p>
                                <p id="footerReg" class="font-semibold">12A - 80G Application No. : AAMAA2508AE20241</p>
                                
                                <div class="pt-2 space-y-0.5 font-medium text-gray-800">
                                    <p class="flex items-center gap-1"><span>üìû</span> 7864888797</p>
                                    <p class="flex items-center gap-1"><span>‚úâÔ∏è</span> sutra.ngo@gmail.com</p>
                                    <p class="flex items-center gap-1"><span>üåê</span> www.SutraNGO.com</p>
                                    <p class="flex items-start gap-1"><span>üìç</span> <span>Malancha Road (Behind Petrol Pump)<br>Kharagpur-721304, Paschim Medinipur</span></p>
                                </div>
                            </div>
                        </div>

                        <!-- 15 Years Badge Right -->
                        <div class="flex flex-col items-end justify-end text-right">
                             <div class="relative">
                                <span class="text-5xl font-bold text-green-600 tracking-tighter block" style="text-shadow: 2px 2px 0px white;">15</span>
                                <span class="text-xl text-gray-500 font-bold -mt-2 block">years</span>
                             </div>
                             <p class="text-sm text-gray-500 font-medium mt-1">Doing our bit, since 2010</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const controls = {
            theme: document.getElementById('themeSelector'),
            greeting: document.getElementById('greetingStyle'),
            color: document.getElementById('colorPalette'),
            title: document.getElementById('titleInput'),
            name: document.getElementById('nameInput'),
            program: document.getElementById('programInput'),
            beneficiary: document.getElementById('beneficiaryInput'),
            date: document.getElementById('dateInput'),
            location: document.getElementById('locationInput'),
            logoUpload: document.getElementById('logoUpload'),
            downloadBtn: document.getElementById('downloadBtn')
        };
        const eventFields = document.getElementById('eventFields');
        const mainContent = document.getElementById('mainContent');
        const bgLayer = document.getElementById('bgLayer');
        const logoPreview = document.getElementById('logoPreview');
        const logoPlaceholder = document.getElementById('logoPlaceholder');
        const statusMsg = document.getElementById('statusMsg');
        const loadingOverlay = document.getElementById('loadingOverlay');

        // Color Palette Definitions
        const palettes = {
            red: { primary: 'text-red-500', secondary: 'text-purple-900', accent: 'bg-red-500', badge: 'bg-orange-500', gradient: 'linear-gradient(135deg, #fff0f3 0%, #ffe4e6 100%)', button: 'bg-pink-600 hover:bg-pink-700' },
            blue: { primary: 'text-blue-600', secondary: 'text-gray-800', accent: 'bg-blue-600', badge: 'bg-blue-600', gradient: 'linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)', button: 'bg-blue-600 hover:bg-blue-700' },
            orange: { primary: 'text-orange-500', secondary: 'text-gray-800', accent: 'bg-orange-500', badge: 'bg-yellow-500', gradient: 'linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%)', button: 'bg-orange-600 hover:bg-orange-700' },
            green: { primary: 'text-teal-600', secondary: 'text-gray-800', accent: 'bg-teal-600', badge: 'bg-emerald-600', gradient: 'linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)', button: 'bg-teal-600 hover:bg-teal-700' }
        };

        // Render Functions
        function renderCard() {
            const theme = controls.theme.value;
            const greetingStyle = controls.greeting.value;
            const colorKey = controls.color.value;
            const colors = palettes[colorKey];
            
            const data = {
                title: controls.title.value,
                name: controls.name.value || "Benefactor",
                program: controls.program.value,
                beneficiary: controls.beneficiary.value,
                date: controls.date.value,
                location: controls.location.value
            };

            // Update UI Colors
            controls.downloadBtn.className = `text-white px-3 py-3 rounded-lg transition shadow flex items-center justify-center gap-2 font-medium text-sm ${colors.button}`;
            const footerBrand = document.getElementById('footerBrand');
            const footerReg = document.getElementById('footerReg');
            if(footerBrand) footerBrand.className = `text-2xl font-bold mb-1 font-sutra ${colors.primary.replace('text-', 'text-opacity-80 text-')}`;
            if(footerReg) footerReg.className = `font-semibold ${colors.primary}`;

            // Toggle Field Visibility
            if (theme === 'message') {
                eventFields.classList.add('hidden');
            } else {
                eventFields.classList.remove('hidden');
            }

            // Update Background
            updateBackground(theme, colors.gradient);

            // 1. Determine Greeting HTML based on Style
            let greetingHTML = '';
            let heartColor = colors.primary;
            
            if (greetingStyle === 'bold') {
                greetingHTML = `<h1 class="text-7xl font-bold-display tracking-wide ${colors.primary} uppercase mb-2" style="text-shadow: 2px 2px 0px rgba(0,0,0,0.05)">THANK YOU</h1>`;
            } else if (greetingStyle === 'script') {
                 greetingHTML = `<h1 class="text-8xl font-script ${colors.primary} mb-2" style="transform: rotate(-2deg)">Thank You</h1>`;
            } else if (greetingStyle === 'friendly') {
                 greetingHTML = `<h1 class="text-7xl font-friendly ${colors.primary} mb-2">Thank You!</h1>`;
            }

            // 2. Generate Layout HTML
            let contentHTML = '';

            // Common Heart Icon
            const heartIcon = `
                <div class="flex justify-center mb-4">
                    <svg class="w-16 h-16 ${heartColor} heart-icon" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                    </svg>
                </div>`;

            if (theme === 'event') {
                // THEME A: EVENT HIGHLIGHT (Standard)
                contentHTML = `
                    <div class="mt-8 mb-6">
                        ${heartIcon}
                        ${greetingHTML}
                        
                        <div class="mb-8 mt-6">
                            <div class="name-sticker">
                                <span class="text-3xl font-bold text-gray-900 font-sutra">${data.title} ${data.name}</span>
                            </div>
                        </div>

                        <p class="text-2xl text-gray-600 font-medium mb-1">for your generous contribution</p>
                        <p class="text-xl text-gray-400 italic mb-6 font-playfair">towards our</p>

                        <h2 class="text-4xl font-extrabold text-gray-800 uppercase tracking-tight mb-2 leading-tight px-4">${data.program}</h2>
                        
                        <p class="text-2xl ${colors.primary} font-semibold mb-8">for ${data.beneficiary}</p>

                        <div class="flex justify-center">
                            <div class="${colors.badge} text-white rounded-2xl px-8 py-4 shadow-lg">
                                <p class="text-lg font-medium">organized on ${data.date}, at<br><span class="font-bold text-xl">${data.location}</span></p>
                            </div>
                        </div>
                    </div>
                `;
            } else if (theme === 'modern') {
                 // THEME B: MODERN GRID (New)
                 contentHTML = `
                    <div class="mt-12 mb-8 text-left px-4">
                        <div class="flex items-center gap-4 mb-4">
                             <div class="w-16 h-1 ${colors.accent}"></div>
                             <span class="text-gray-400 uppercase tracking-widest text-sm font-bold">Appreciation</span>
                        </div>
                        ${greetingHTML.replace('text-center', 'text-left')}
                        
                        <p class="text-2xl text-gray-600 mt-4 max-w-lg">
                            We are deeply grateful to <span class="font-bold text-gray-900 border-b-2 border-gray-200">${data.title} ${data.name}</span> for supporting our cause.
                        </p>
                    </div>

                    <div class="grid grid-cols-1 gap-4 px-4 mt-8">
                        <div class="grid-box p-6 text-left border-l-4 border-gray-300">
                             <p class="text-xs font-bold text-gray-400 uppercase mb-1">Program</p>
                             <h3 class="text-2xl font-bold ${colors.secondary}">${data.program}</h3>
                             <p class="text-lg ${colors.primary} mt-1">for ${data.beneficiary}</p>
                        </div>
                        <div class="flex gap-4">
                             <div class="grid-box p-6 text-left flex-1">
                                <p class="text-xs font-bold text-gray-400 uppercase mb-1">Date</p>
                                <p class="text-xl font-bold text-gray-700">${data.date}</p>
                             </div>
                             <div class="grid-box p-6 text-left flex-1">
                                <p class="text-xs font-bold text-gray-400 uppercase mb-1">Location</p>
                                <p class="text-xl font-bold text-gray-700">${data.location}</p>
                             </div>
                        </div>
                    </div>
                 `;
            } else if (theme === 'message') {
                // THEME C: HEARTFELT
                contentHTML = `
                    <div class="mt-8 mb-12">
                        ${heartIcon}
                        ${greetingHTML}
                    </div>
                    <div class="flex-grow flex flex-col justify-center items-center space-y-8 px-8">
                        <p class="text-2xl leading-relaxed ${colors.secondary} font-medium font-playfair italic">
                            "It's such an overwhelming, thrilling &<br>
                            blessed feeling to have done this<br>
                            activity successfully."
                        </p>
                        <p class="text-2xl leading-relaxed ${colors.secondary} font-medium">
                            A big THANKS again to <br>
                            <span class="text-4xl font-bold ${colors.primary} mt-3 block font-sutra">
                                ${data.title} ${data.name}
                            </span>
                            <br>
                            for your generous contribution.
                        </p>
                    </div>
                `;
            } else if (theme === 'elegant') {
                // THEME D: ELEGANT FORMAL
                contentHTML = `
                    <div class="mt-24 mb-12 border-b-2 border-gray-100 pb-8 mx-12">
                         <h1 class="text-6xl font-playfair tracking-widest ${colors.primary} mb-2 uppercase">GRATITUDE</h1>
                         <p class="text-gray-400 tracking-[0.5em] text-sm uppercase">Certificate of Appreciation</p>
                    </div>
                    
                    <div class="flex-grow flex flex-col items-center px-12">
                        <p class="text-xl text-gray-500 italic mb-6 font-playfair">Presented to</p>
                        
                        <h2 class="text-5xl font-bold text-gray-900 mb-8 font-script">${data.title} ${data.name}</h2>
                        
                        <p class="text-lg text-gray-600 leading-loose">
                            In sincere recognition of your generous support towards<br>
                            <span class="font-bold ${colors.secondary} text-xl">${data.program}</span>
                            <br>
                            <span class="text-sm text-gray-400">(${data.date} &bull; ${data.location})</span>
                        </p>
                    </div>
                `;
            }

            mainContent.innerHTML = contentHTML;
        }

        function updateBackground(theme, gradient) {
            if (theme === 'elegant') {
                bgLayer.innerHTML = `<div class="absolute inset-4 border-2 border-double border-gray-200 pointer-events-none z-0"></div>`;
            } else if (theme === 'modern') {
                 bgLayer.innerHTML = `<div class="header-modern" style="background:${gradient}"></div>`;
            } else {
                bgLayer.innerHTML = `<div class="header-curve" style="background:${gradient}"></div>`;
            }
        }

        // Image Download Logic
        async function downloadImage() {
            const card = document.getElementById('card-preview');
            const btn = document.getElementById('downloadBtn');
            const originalText = btn.innerText;
            
            // Show Loader (Standard JS style toggle)
            loadingOverlay.style.display = 'flex';
            
            btn.innerText = "Processing...";
            statusMsg.textContent = "Generating high-res image...";

            try {
                await new Promise(r => setTimeout(r, 200)); // Let UI update
                
                const canvas = await html2canvas(card, {
                    scale: 2,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff',
                    logging: false
                });

                const link = document.createElement('a');
                link.download = `ThankYou_${controls.name.value.replace(/\s+/g, '')}.jpg`;
                link.href = canvas.toDataURL('image/jpeg', 0.9);
                link.click();
                
                statusMsg.textContent = "Done!";
            } catch (err) {
                console.error(err);
                alert("Error generating image. Please try 'Save PDF' instead.");
            } finally {
                // Hide Loader
                loadingOverlay.style.display = 'none';
                btn.innerText = originalText;
                setTimeout(() => statusMsg.textContent = "", 3000);
            }
        }

        // Event Listeners
        Object.values(controls).forEach(el => {
            if(el && (el.tagName === 'INPUT' || el.tagName === 'SELECT')) {
                el.addEventListener('input', renderCard);
            }
        });

        controls.logoUpload.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    logoPreview.src = e.target.result;
                    logoPreview.classList.remove('hidden');
                    logoPlaceholder.classList.add('hidden');
                }
                reader.readAsDataURL(file);
            }
        });

        // Initialize
        renderCard();

    </script>
</body>
</html>
